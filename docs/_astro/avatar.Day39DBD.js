import{j as d,c as y}from"./index.NY1cxoVm.js";import{r as F,a as f}from"./index.DK0mN5n4.js";import{c as M,P as L,u as P,a as A}from"./index.BsQIBcvn.js";import"./index.DF3E2PyC.js";var h={exports:{}},E={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j;function $(){if(j)return E;j=1;var e=F();function t(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var o=typeof Object.is=="function"?Object.is:t,n=e.useState,u=e.useEffect,a=e.useLayoutEffect,v=e.useDebugValue;function i(r,s){var S=s(),g=n({inst:{value:S,getSnapshot:s}}),l=g[0].inst,x=g[1];return a(function(){l.value=S,l.getSnapshot=s,c(l)&&x({inst:l})},[r,S,s]),u(function(){return c(l)&&x({inst:l}),r(function(){c(l)&&x({inst:l})})},[r]),v(S),S}function c(r){var s=r.getSnapshot;r=r.value;try{var S=s();return!o(r,S)}catch{return!0}}function m(r,s){return s()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:i;return E.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,E}var R;function z(){return R||(R=1,h.exports=$()),h.exports}var T=z();function U(){return T.useSyncExternalStore(V,()=>!0,()=>!1)}function V(){return()=>{}}var w="Avatar",[D,te]=M(w),[G,b]=D(w),_=f.forwardRef((e,t)=>{const{__scopeAvatar:o,...n}=e,[u,a]=f.useState("idle");return d.jsx(G,{scope:o,imageLoadingStatus:u,onImageLoadingStatusChange:a,children:d.jsx(L.span,{...n,ref:t})})});_.displayName=w;var C="AvatarImage",k=f.forwardRef((e,t)=>{const{__scopeAvatar:o,src:n,onLoadingStatusChange:u=()=>{},...a}=e,v=b(C,o),i=H(n,a),c=P(m=>{u(m),v.onImageLoadingStatusChange(m)});return A(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?d.jsx(L.img,{...a,ref:t,src:n}):null});k.displayName=C;var N="AvatarFallback",q=f.forwardRef((e,t)=>{const{__scopeAvatar:o,delayMs:n,...u}=e,a=b(N,o),[v,i]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(c)}},[n]),v&&a.imageLoadingStatus!=="loaded"?d.jsx(L.span,{...u,ref:t}):null});q.displayName=N;function I(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function H(e,{referrerPolicy:t,crossOrigin:o}){const n=U(),u=f.useRef(null),a=n?(u.current||(u.current=new window.Image),u.current):null,[v,i]=f.useState(()=>I(a,e));return A(()=>{i(I(a,e))},[a,e]),A(()=>{const c=r=>()=>{i(r)};if(!a)return;const m=c("loaded"),p=c("error");return a.addEventListener("load",m),a.addEventListener("error",p),t&&(a.referrerPolicy=t),typeof o=="string"&&(a.crossOrigin=o),()=>{a.removeEventListener("load",m),a.removeEventListener("error",p)}},[a,o,t]),v}var B=_,K=k,O=q;function W({className:e,...t}){return d.jsx(B,{"data-slot":"avatar",className:y("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function J({className:e,...t}){return d.jsx(K,{"data-slot":"avatar-image",className:y("aspect-square size-full",e),...t})}function Q({className:e,...t}){return d.jsx(O,{"data-slot":"avatar-fallback",className:y("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const ae=({src:e,alt:t,fallback:o,className:n})=>d.jsxs(W,{className:n,children:[d.jsx(J,{src:e,alt:t}),d.jsx(Q,{children:o})]});export{ae as default};
